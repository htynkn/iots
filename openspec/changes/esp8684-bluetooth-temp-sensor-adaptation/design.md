## Context

当前的 `001_esp_bluetooth_temp_sensor` 项目是为特定ESP32芯片设计的，但需要适配ESP8684芯片。ESP8684具有不同的硬件规格，包括26MHz主频和2M Flash容量。这些差异导致了编译问题和潜在的运行时问题，需要进行相应的调整和优化。

## Goals / Non-Goals

**Goals:**
- 修正编译错误，使项目能够在ESP8684上成功编译
- 调整SDK配置以充分利用ESP8684的26MHz主频和2M Flash容量
- 确保蓝牙温度传感器功能在ESP8684上正常运行
- 优化内存使用以适应较小的Flash容量

**Non-Goals:**
- 修改蓝牙温度传感器的核心功能逻辑
- 添加新的传感器类型或功能
- 支持除ESP8684之外的其他芯片型号

## Decisions

1. **分区表调整**：由于ESP8684只有2M Flash容量，需要重新设计分区表以确保有足够的空间分配给应用程序和数据存储。我们将使用更紧凑的分区布局，减少保留空间。

2. **时钟频率配置**：ESP8684的主频为26MHz（而非传统的40MHz或80MHz），需要在SDK配置中正确设置CPU频率和其他相关时钟参数，以确保定时器、延迟函数和其他时间相关的功能正常工作。

3. **内存管理策略**：由于Flash容量有限，我们将启用适当的内存优化选项，并可能调整堆栈大小和缓冲区大小，以确保程序在受限环境中稳定运行。

4. **蓝牙协议栈配置**：针对ESP8684的蓝牙模块特性，调整蓝牙协议栈的配置参数，以确保蓝牙连接和数据传输的稳定性。

## Risks / Trade-offs

[Risk: 编译后固件大小超过2M限制] → Mitigation: 启用更高级别的编译优化，移除不必要的调试信息和未使用的代码段。

[Risk: 蓝牙性能在较低主频下受影响] → Mitigation: 对蓝牙通信进行充分测试，必要时调整数据传输速率和重试机制。

[Risk: 内存不足导致运行时错误] → Mitigation: 仔细监控内存使用情况，优化数据结构，增加内存使用监控代码。

[Risk: 与原版ESP32代码的兼容性问题] → Mitigation: 保持代码的条件编译兼容性，确保代码可以在不同ESP芯片上编译运行。